# Робота з конфліктами: коли декілька розробників внесли зміни одночасно

Це нормальна ситуація. Git справляється з цим автоматично, **якщо зміни в різних файлах або різних місцях одного файлу**.

---

## Сценарій 1: Зміни в різних файлах (без конфліктів)

**Yaroslav** змінив `profile.tsx`, **Darina** змінила `notifications.tsx`.

Обидва створили PR → обидва мержаться без проблем.

**Що робити другому, хто мержить пізніше:**

```bash
# Перед merge свого PR — оновити гілку
git checkout master
git pull origin master
git checkout yaroslav
git merge master
git push origin yaroslav
```

GitHub автоматично оновить PR, і він змержиться без конфліктів.

---

## Сценарій 2: Зміни в одному файлі, але різних місцях (без конфліктів)

**Dmitry** додав функцію на рядках 10-20, **Stanislav** додав функцію на рядках 50-60 в тому ж файлі.

Git **автоматично** об'єднає обидві зміни. Конфлікту не буде.

---

## Сценарій 3: Зміни в тих самих рядках (КОНФЛІКТ)

**Dmitry** змінив рядок 15, **Yaroslav** теж змінив рядок 15.

Перший PR змержився. Другий отримає конфлікт.

**Що робити Yaroslav'у:**

```bash
# 1. Оновити master
git checkout master
git pull origin master

# 2. Перейти на свою гілку і влити master
git checkout yaroslav
git merge master
```

Git покаже:

```
CONFLICT (content): Merge conflict in app/profile.tsx
Automatic merge failed; fix conflicts and then commit the result.
```

### Крок 3: Відкрити файл з конфліктом

```tsx
const userName = () => {
<<<<<<< HEAD
  return "Yaroslav's version";
=======
  return "Dmitry's version";  // це вже в master
>>>>>>> master
};
```

### Крок 4: Вирішити конфлікт вручну

Вибрати правильний варіант (або об'єднати):

```tsx
const userName = () => {
  return "Dmitry's version";  // залишаємо те, що в master
};
```

Або якщо потрібні обидві зміни — об'єднати логічно.

### Крок 5: Закомітити вирішення

```bash
git add .
git commit -m "Resolve merge conflict with master"
git push origin yaroslav
```

PR на GitHub оновиться автоматично і буде готовий до merge.

---

## Як уникнути конфліктів?

| Порада | Чому це працює |
|--------|----------------|
| **Синхронізуватися з master щодня** | Менше розбіжностей накопичується |
| **Комунікація в команді** | "Я працюю над profile.tsx" — інші знають |
| **Менші PR** | Легше мержити, менше шансів на конфлікт |
| **Не відкладати merge надовго** | Чим довше гілка живе окремо — тим більше конфліктів |

---

## Золоте правило

> **Той, хто мержить другим — той і вирішує конфлікти.**

Перший PR мержиться легко. Другий, третій, четвертий — мають спочатку влити `master` у свою гілку і вирішити конфлікти (якщо є).

---

## Швидка шпаргалка при конфлікті

```bash
# 1. Оновити master
git checkout master && git pull

# 2. Влити master у свою гілку
git checkout <твоя-гілка>
git merge master

# 3. Вирішити конфлікти в IDE (видалити маркери <<<, ===, >>>)

# 4. Закомітити
git add .
git commit -m "Resolve merge conflict"

# 5. Запушити
git push origin <твоя-гілка>
```
