# Детальний процес роботи в команді з Git

## Загальна схема

```
master (стабільний код)
   │
   ├── dmitry (твоя гілка)
   ├── yaroslav
   ├── darina
   └── stanislav
```

Кожен працює у **своїй гілці**, а потім через **Pull Request** вливає зміни в `master`.

---

## Крок за кроком: щоденна робота

### 1. Початок робочого дня

Перш ніж писати код, **завжди** синхронізуйся з останньою версією `master`:

```bash
# Перейти на master і отримати останні зміни
git checkout master
git pull origin master

# Повернутися на свою гілку
git checkout dmitry

# Влити зміни з master у свою гілку
git merge master
```

**Навіщо?** Якщо хтось вже вмержив свої зміни в `master`, ти отримаєш їх і уникнеш конфліктів пізніше.

---

### 2. Робота над задачею

Пишеш код, тестуєш локально. Коли зробив щось логічно завершене — комітиш:

```bash
git add .
git commit -m "Add user profile page"
```

**Правила комітів:**
- Один коміт = одна логічна зміна
- Повідомлення коротке, але зрозуміле
- Приклади хороших повідомлень:
  - `"Add login form validation"`
  - `"Fix avatar upload bug"`
  - `"Update user schema"`

---

### 3. Пуш на GitHub

Наприкінці дня (або після кожної значної зміни) — пушиш свою гілку:

```bash
git push origin dmitry
```

**Навіщо?**
- Бекап коду на сервері
- Інші бачать твій прогрес
- Можна створити Pull Request

---

### 4. Створення Pull Request (PR)

Коли задача готова:

1. Заходиш на GitHub → репозиторій → **Pull requests** → **New pull request**
2. Вибираєш:
   - **base:** `master` (куди вливаємо)
   - **compare:** `dmitry` (звідки вливаємо)
3. Пишеш опис: що зроблено, що тестував
4. Призначаєш **Reviewer** (хтось з команди)
5. Натискаєш **Create pull request**

---

### 5. Code Review

**Якщо ти рев'юер:**
- Переглядаєш код на GitHub
- Залишаєш коментарі, якщо щось незрозуміло або можна покращити
- Якщо все ок — натискаєш **Approve**

**Якщо рев'юер залишив коментарі тобі:**
- Виправляєш код локально
- Комітиш і пушиш:
  ```bash
  git add .
  git commit -m "Fix review comments"
  git push origin dmitry
  ```
- PR оновиться автоматично

---

### 6. Merge в master

Після **Approve** від рев'юера:

1. На GitHub в PR натискаєш **Merge pull request**
2. Вибираєш **Squash and merge** або **Merge commit**
3. Натискаєш **Confirm merge**
4. Видаляєш гілку (GitHub запропонує)

---

### 7. Після merge — оновити локально

```bash
git checkout master
git pull origin master

# Якщо продовжуєш працювати — створи нову гілку або оновити стару
git checkout dmitry
git merge master
```

---

## Що робити при конфліктах?

Конфлікт виникає, коли ти і хтось інший змінили **той самий рядок** в тому самому файлі.

```bash
git merge master
# CONFLICT (content): Merge conflict in app/profile.tsx
```

**Як вирішити:**

1. Відкрий файл з конфліктом. Побачиш щось таке:
   ```
   <<<<<<< HEAD
   твій код
   =======
   код з master
   >>>>>>> master
   ```

2. Вручну вибери правильний варіант (або об'єднай обидва)

3. Видали маркери `<<<<<<<`, `=======`, `>>>>>>>`

4. Збережи файл

5. Закоміть:
   ```bash
   git add .
   git commit -m "Resolve merge conflict"
   ```

---

## Типові помилки

| Помилка | Як уникнути |
|---------|-------------|
| Забув `git pull` перед роботою | Завжди починай день з `git pull` |
| Комітиш все одним комітом | Комітити частіше, менші зміни |
| Пушиш напряму в `master` | Завжди через PR |
| Мержиш свій PR без рев'ю | Чекати approve |
| Конфлікти накопичуються | Частіше синхронізуватися з `master` |

---

## Швидка шпаргалка

```bash
# Ранок: синхронізація
git checkout master && git pull
git checkout dmitry && git merge master

# Робота: коміти
git add . && git commit -m "опис"

# Кінець дня: пуш
git push origin dmitry

# Задача готова: створити PR на GitHub

# Після merge: оновити локально
git checkout master && git pull
```
